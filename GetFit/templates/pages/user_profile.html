{% extends 'base.html' %}

{% block content %}
  <h1>{{ user.username }}</h1>
  {% if request.user.id in profile.following.all %}
  <a href="{% url 'unfollow' user_id=user.id %}">Unfollow</a>
{% else %}
<a href="{% url 'follow' user_id=user.id %}">Follow</a>
{% endif %}
{% if not user.profile == request.user.profile %}
  {% if user.profile in request.user.profile.friends.all %}
    <a href="{% url 'unfriend' user_id=user.id %}">Unfriend</a>
  {% else %}
    <a href="{% url 'friend' user_id=user.id %}">Friend</a>
  {% endif %}
{% endif %}
  <a href="{% url 'edit_profile' user_id=user.id %}">Edit Profile</a>
  {% if profile.profile_picture %}
    <img src="{{ profile.profile_picture.url }}" alt="{{ user.username }}'s profile picture">
  {% endif %}
  {% if profile.bio %}
    <p>{{ profile.bio }}</p>
    <a href="{% url 'followers' user.id %}"> Followers: {{ profile.followers.count }}</a>
    <a href="{% url 'friends' user.id %}">friends: {{ profile.friends.count }}</a>
{% endif %}
  {% if profile.age %}
    <p>Age: {{ profile.age }}</p>
  {% endif %}
  {% if profile.height %}
    <p>Height: {{ profile.height }} cm</p>
  {% endif %}
  {% if profile.weight %}
    <p>Weight: {{ profile.weight }} kg</p>
  {% endif %}
  {% if profile.goals %}
    <h2>Goals</h2>
    <p>{{ profile.goals }}</p>
  {% endif %}
{% endblock %}

